# A continuación se muestra como realizar los métodos hacia el endpoint de Menus.

## 1. Definir el endpoint:
```
localhost:8080/api/menus
```

## 2. Verificar que los Headers estén configurados:

En la columna Key, elegir **Content-Type**.

En la columna Value, elegir **application/json**.

<img width="1377" height="368" alt="image" src="https://github.com/user-attachments/assets/21ee7b2a-cf73-4b3d-8612-6573b0142853" />

## 3. Método para traer un colección: GET.
```
localhost:8080/api/menus
```
## 4. Método para traer un registro: GET.
Se sustituye el **id** por el número de id que se desea mostrar.
```
localhost:8080/api/menus/id
```

<img width="1382" height="613" alt="image" src="https://github.com/user-attachments/assets/642ba586-f4e7-4a68-bce9-22ff69353667" />

## 5. Método para agregar un registro: POST.
```
localhost:8080/api/menus
```
### - Ubicarse en Body:

<img width="1368" height="122" alt="image" src="https://github.com/user-attachments/assets/929c03e7-1450-47ed-9ca9-a8857d84ee61" />

### - Ubicarse en form-data:

<img width="1372" height="86" alt="image" src="https://github.com/user-attachments/assets/47bc0dba-9008-4afe-a0a9-9aafc016adb0" />

### - En la columna Key, escribir "dto" con tipo "Text":

<img width="381" height="92" alt="image" src="https://github.com/user-attachments/assets/028f654b-b008-479a-9a7d-8847e04fb23c" />

### - En la siguiente fila, escribir "imagen" con tipo "File":

<img width="381" height="41" alt="image" src="https://github.com/user-attachments/assets/87eba909-a974-441d-8a0e-8c928fcab30c" />

### - En la columna Value, escribir en la fila de "dto" el JSON:
```
{
   "nombre":"Borrame",
   "descripcion":"Ejemplo para borrar",
   "tipo":"C",
   "precioUnitario":5,
   "urlImagen":"",
   "disponible":true,
   "categoriaDTO":{
      "id":1,
      "nombre":"Borrame1"
   }
}
```

<img width="716" height="313" alt="image" src="https://github.com/user-attachments/assets/33fd6911-82cc-4e24-9c7c-9af3448faaf3" />

### - En la fila de imagen, siempre parte de la columna Value, elegir la imagen que se desea agregar:

<img width="711" height="432" alt="image" src="https://github.com/user-attachments/assets/ea39d90e-28ae-46f7-87ee-8ecad70bbb91" />

### - En la columna Content-Type, parte de la fila de "dto" elegir "application-json":

<img width="1034" height="179" alt="image" src="https://github.com/user-attachments/assets/2ffe5ede-18b0-47df-885d-977eee17b9ca" />

## Así se debe ver finalmente:

<img width="1367" height="337" alt="image" src="https://github.com/user-attachments/assets/eb562130-26ee-468e-a814-d1a1f703ff2b" />

### - Definir el método POST, y luego dar clic en "Send".

<img width="1370" height="69" alt="image" src="https://github.com/user-attachments/assets/d83f181d-5431-4d86-9c53-8179875f988d" />

# ¡Listo! De esta forma, ya se permite agregar a base de datos los registros con archivos.
## Resultado devuelto:

<img width="1378" height="670" alt="image" src="https://github.com/user-attachments/assets/bc2ba058-d285-4334-9d13-5bd833fbfb61" />

# Tabla de base de datos:

## - Consulta sql a ejecutar:

```
select * from public.menus order by id asc
```

## - Tabla "menus" en la base de datos:


<img width="1497" height="428" alt="image" src="https://github.com/user-attachments/assets/f12b827a-b6a2-43ba-b151-2cec4e816b62" />


## 6. Método para actualizar un registro: PUT.

### - Se debe definir el endpoint, con el "id" del registro que se desea actualizar**
```
localhost:8080/api/menus/id
```
### - Primero, hay que hacer una petición GET, del registro que queremos actualizar, en mi caso utilice el registro con id = 3:
```
localhost:8080/api/menus/3
```

<img width="1359" height="75" alt="image" src="https://github.com/user-attachments/assets/eb9f4271-e6a0-4d69-9d45-c2d5ee5cdff4" />

**El JSON, contiene la siguiente estructura:**


<img width="1136" height="413" alt="image" src="https://github.com/user-attachments/assets/32a1142e-454d-42be-be6e-0c2544965cc5" />

### - Siguiente, debemos cambiar el método GET a método PUT (para poder actualizar):

<img width="1357" height="71" alt="image" src="https://github.com/user-attachments/assets/0cb04028-4fab-4648-b3c8-a1d0447c8230" />

### - En la opción form-data, hacemos los cambios correspondientes para la actualización:

**KEY = dto -> Tipo = TEXT**

**KEY = imagen -> Tipo = FILE**

**Insertamos el JSON, en VALUE correspondiente a la fila de "dto":**

Se debe verificar la **categoria** y su **id**, en mi caso es **_Borrame2 = id/3_**
```
{
   "nombre":"Ejemplo actualizado",
   "descripcion":"actulización",
   "tipo":"C",
   "precioUnitario":25,
   "urlImagen":"",
   "disponible":true,
   "categoriaDTO":{
      "id":3,
      "nombre":"Borrame2"
   }
}
```

**Simultáneamente se debe anexar la imagen que se desea actualizar**

**La estructura debería verse similar a la siguiente imágen:** (depende del suyo).

<img width="1355" height="193" alt="image" src="https://github.com/user-attachments/assets/efb3e2f4-b62f-4b11-8708-a4c94fbd347c" />

<img width="1370" height="350" alt="image" src="https://github.com/user-attachments/assets/13c446f3-acbf-4891-8452-3a523c343ebd" />





